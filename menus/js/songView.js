let Songs = {
    wimo: {
        desc: {
            fan: `
            <p>"What I'm Made Of..." is the second Crush 40 track on Sonic Heroes, and has been remarked multiple times by Johnny as his favourite Crush 40 song of all time. 
            <p>Jun had already created a short demo of "What I'm Made Of..." before the title track of the game, Sonic Heroes, was even composed, but it was initially rejected by the team.</p>
            <p>Insisting that the song be used in the game, late into development it was decided it would be used as the track for the final boss; Jun then informed Johnny about the track (who was in the middle of a camping trip with his family), and how it was needed to be written quickly.</p>
            <p>And so, inside of a tour bus' kitchen area, Johnny began writing the lyrics to the track, and by Summer 2003 an early demo featuring background vocals was completed. By Fall 2003, the track was completely finished.</p>
            `,
            other: [
                { 
                    heading: "Jun Senoue", 
                    subHeading: "(Written by <a href='https://twitter.com/crush40/status/454934664549908480' target='_blank'>Jun on Twitter</a>, describing the 2 Nights 2 Remember setlist)", 
                    text:`
                        <p>For [the 2 Nights 2 Remember performance], I played "What I'm Made Of" with my "82" instead of my Sonic guitar for the first time - I just wanted to play my favourite song on that guitar!</p>
                        <p>One especially notable moment was at the end of the second day of the show, where the whole audience sang the final "What I'm Made Of..." in unison - it gave me goosebumps!</p>
                    ` 
                }
            ]
        },
        lyrics: {
            src: [ 
                { n: "Driving Through Forever", id: "driving" }
            ],
            text: `
<p>I don't care what you're thinking<br/>
As you turn to me<br/>
Cause what I have in my two hands<br/>
Is enough to set me free<br/>
I could fight the feeling<br/>
To resist it over time<br/>
But when it's just too much to take<br/>
You sneak up from behind</p>
<p>Is it me, you say, you're looking for<br/>
Let me show you who I am and what I'm here for... here for...</p>
<p>Try to reach inside of me, try to drain my energy<br/>
Let me show you just what I'm made of<br/>
Simple curiosity tries to take a bite of me<br/>
Let me show you just what I'm made of now...</p>
<p>Like a million faces<br/>
I've recognized them all<br/>
And one by one they've all become<br/>
A black mark on the floor</p>
<p>Is it me, you say, you're looking for<br/>
Let me show you who I am and what I have in store.... in store...</p>
<p>Try to reach inside of me, try to drain my energy<br/>
Let me show you just what I'm made of<br/>
Simple curiosity tries to take a bite of me<br/>
Let me show you just what I'm made of now...</p>
<p>You can take another life long try<br/>
You can take another try...</p>
<p>Try to reach inside of me, try to drain my energy<br/>
Let me show you just what I'm made of<br/>
Simple curiosity tries to take a bite of me<br/>
Let me show you just what I'm made of now...</p>
<p>Try to reach inside of me, try to drain my energy<br/>
Let me show you just what I'm made of</p>
            `
        },
        performances: [
            { id: "sos10" },
            { id: "t11" },
            { id: "t12" },
            { id: "sb12" },
            { id: "sos12" },
            { id: "jgmf13" },
            { id: "sb13" },
            { id: "twoNights" },
            { id: "expoTNT" },
            { id: "joypolis15" },
            { id: "youmacon15" },
            { id: "sonic25th" },
            { id: "sos16" },
            { id: "tmg17" },
            { id: "mgc18" },
            { id: "puma18" },
            { id: "jgmf18" },
            { id: "tmg18" },
            { id: "mgc19" },
            { id: "tmg19" }
        ],
        versionsBg: 'SSSBackground.png'
    },
    ll: {
        desc: {
            fan: `
            <p>As the ending song of <i>Sonic and The Black Knight</i>, Live Life creates a perfect continuity from Knight of The Wind by utilizing a variant of the latter's main riff.</p>
            <p>Bringing the violins back in full force, the song proves yet again Johnny's incredible talent for ballads, delivering one of his most soulful performances in any Crush 40 song - it's certainly brought some Crush 40 fans to tears more than once!</p>
            <p>Furthermore the lyrics perfectly convey the game's message of living life to the fullest in the time you have; even though according to Johnny they were written in a hotel room mere days before the deadline!</p>
            `,
            other: [
                { 
                    heading: "Jun Senoue", 
                    subHeading: "(Written by <a href='https://twitter.com/crush40/status/454927117495435264' target='_blank'>Jun on Twitter</a>, describing the 2 Nights 2 Remember setlist)", 
                    text:`
                        <p>A song I wrote in a studio in Tokyo with Johnny a long time ago.</p>
                        <p>I remember I was almost crying from the crowd reaction when I played this song at [Summer of Sonic 2012], and I really wanted to play this song with a full band, so I was very happy to be able to do that [at the 2 Nights 2 Remember show].
                    ` }
            ]
        },
        lyrics: {
            src: [ 
                { n: "Super Sonic Songs", id: "sss" }
            ],
            text: `
<p>Take a look inside your heart<br />
What once seemed fair today<br />
Tomorrow it may not<br />
Just a walk or a journey<br />
Don't stop reaching high<br />
Don't let the time pass you by</p>
<p>So many ways that you can try to forget<br />
So many ways you'll find you wake up to regret</p>
<p>Someday, one day we'll say live life I know<br />
Hold on hold tight<br />
Don't let go don't lose sight</p>
<p>Feeling like the road<br />
Is winding you on every turn<br />
But there are lessons to learn<br />
Take a look inside your heart<br />
What once seemed impossible<br />
Today is not</p>
<p>So many ways that you can try to forget<br />
So many ways you'll find you wake up to regret</p>
<p>Someday, one day we'll say live life I know<br />
Hold on hold tight<br />
Don't let go don't lose sight<br />
Someday, one day we'll say live life I know<br />
Hold on hold tight<br />
Don't let go</p>
<p>I can't imagine I can't imagine<br />
Making it on your own<br />
You've got it inside you've got it inside of you...<br />
So let it out...!</p>
<p>Someday, one day we'll say live life I know<br />
Hold on hold tight<br />
Don't let go don't lose sight<br />
Someday, one day we'll say live life I know<br />
Hold on hold tight<br />
Don't let go don't live life</p>
<p>Live Life...</p>
<p>Live Life...<br />
Don't let go...</p>
<p>Live Life...<br />
Live Life...</p>
            `
        },
        performances: [
            { id: "sos12" },
            { id: "twoNights" },
            { id: "jgmf18", d: "Featuring a real violinist!" },
        ],
        versionsBg: 'SSSBackground.png'
    },
    iam: {
        desc: {
            fan: `
            <p>"I Am... All Of Me" is the main theme of "Shadow The Hedgehog". Originally, Magna-fi (who also wrote & recorded "All Hail Shadow") had written a track called "Who I Am" to be the game's main theme, but was excluded due to complications with the band's then label, Aezra.</p>
            <p>The game itself goes for a radically different approach in comparison to previous games (taking inspiration from the then-emerging mature game market), so Jun followed suit with a soundtrack focusing on Heavy & Industrial Metal.</p> 
            <p>"I Am... All Of Me" stands out as the game & soundtrack's crowning achievement, being the first song the player hears during the opening cinematic, along with the final boss. Despite the game's polarizing reception, the track has become regarded as one of Crush 40's best, being a fan favorite & commonly performed during their live shows.</p>
            `,
            other: [
                { 
                    heading: "Jun Senoue", 
                    subHeading: "(Written by <a href='https://twitter.com/crush40/status/454926790746599425' target='_blank'>Jun on Twitter</a>, describing the 2 Nights 2 Remember setlist)", 
                    text:`
                        <p>The main theme of Shadow the Hedgehog, which was tuned down to C and made dark and heavy.</p>
                        <p>Both Johnny and I love this song, and the way the venue fired up [at the 2 Nights 2 Remember show] when the introductory part of this song came in was just thrilling, regardless of how many times we've experienced it!</p>
                        <p>The air changes in an instant!</p>
                    ` }
            ]
        },
        lyrics: {
            src: [ 
                { n: "Driving Through Forever", id: "driving" }
            ],
            text: `
<p>I hear no speak no evil<br />
Black writing's on the wall<br />
Unleashed a million faces<br />
And one by one they fall<br />
Black hearted evil or<br />
Brave hearted hero<br />
I am all I am all I am...</p>
<p>Go ahead and try to see thru me<br />
Do it if you dare<br />
One step forward two steps back I'm here</p>
<p>Do it, do it, do it, do it</p>
<p>Can you see all of me<br />
Walk into my mystery<br />
Step inside and hold on for dear life<br />
Do you remember me<br />
Capture you or set you free<br />
I am all I am all of me...<br />
I am... I'm all of me...</p>
<p>I see and feel the evil<br />
My hands will crush em' all<br />
You think you have the answers<br />
I'll laugh and watch you fall<br />
Black hearted evil or<br />
Brave hearted hero<br />
I am all I am all I am...</p>
<p>Go ahead and try to see thru me<br />
Do it if you dare<br />
One step forward two steps back I'm here</p>
<p>Do it, do it, do it, do it</p>
<p>Can you see all of me<br />
Walk into my mystery<br />
Step inside and hold on for dear life<br />
Do you remember me<br />
Capture you or set you free<br />
I am all I am all of me...<br />
I am... I'm all of me...</p>
<p>I am I am everyone, everywhere, anyhow, anyway, any will, any day<br />
I am I am everyone, everywhere, anyhow, anyway, any will, any day<br />
I Am... I Am... I Am...<br />
I Am... I Am... I Am...</p>
<p>Do it, do it, do it, do it</p>
<p>Can you see all of me<br />
Walk into my mystery<br />
Step inside and hold on for dear life<br />
Do you remember me<br />
Capture you or set you free<br />
I am all I am all of me...<br />
I am... I'm all of me...</p>
            `
        },
        performances: [
            { id: "tgs08" },
            { id: "sos10" },
            { id: "t11" },
            { id: "t12" },
            { id: "sb12" },
            { id: "sos12" },
            { id: "jgmf13" },
            { id: "sb13" },
            { id: "twoNights" },
            { id: "expoTNT" },
            { id: "joypolis15" },
            { id: "youmacon15" },
            { id: "sonic25th" },
            { id: "sos16" },
            { id: "tmg17" },
            { id: "mgc18" },
            { id: "puma18" },
            { id: "jgmf18" },
            { id: "tmg18" },
            { id: "mgc19" },
            { id: "tmg19" },
            { id: "symphony" }
        ],
        versionGroups: [
            {
                credits: [
                    { t: "Composition & Arrangement", n: "Jun Senoue" },
                    { t: "Lyrics & Vocals", n: "Johnny Gioeli" },
                    { t: "Guitars & Programming", n: "Jun Senoue" },
                    { t: "Bass", n: "Takeshi Taneda" },
                    { t: "Drums", n: "Toru Kawamura" }
                ],
                versions: [
                    { 
                        fanName: "Main ver.", 
                        long: "This is the full version of the song.", 
                        appearances: [ "Lost and Found - Shadow the Hedgehog Vocal Trax", "History of Sonic Music 20th Anniversary Edition", "Shadow the Hedgehog Official Soundtrack", "Sonic at the Olympic Games" ] 
                    },
                    { 
                        officialName: "Opening ver.", 
                        inGame: true,
                        long: "This short version of the song plays in the opening cinematic of Shadow the Hedgehog.", 
                        appearances: [ "Shadow the Hedgehog Original Soundtrax" ] 
                    },
                    { 
                        fanName: "Invinciblilty ver.", 
                        inGame: true,
                        long: "This short version of the song plays when you get the invincibility power-up in Shadow the Hedgehog."
                    },
                    { 
                        fanName: "Final Doom ver. (Game)", 
                        inGame: true,
                        long: "This version of plays during the final boss of Shadow the Hedgehog. It features a short opening, and loops back to the intro after the third chorus.",
                        appearances: [ "_GAME" ]
                    },
                    { 
                        fanName: "Final Doom ver. (Album)", 
                        inGame: true,
                        long: "The album version of this variant. It doesn't loop infinitely and doesn't include the opening like the other. It also has slight mixing differences with the main version, mainly the deep backing vocals during the pre-chorus.",
                        appearances: [ "_GAME" ]
                    },
                    { 
                        fanName: "Super Sonic Songs Mix",
                        inGame: true,
                        long: "This new mix was made for the Super Sonic Songs album. There are various mixing changes throughout the mix, but most notably, the ending has been changed.",
                        appearances: [ "Super Sonic Songs", "" ]
                    },
                    { 
                        fanName: "Short Looped ver.",
                        short: "Version created for <i>Sonic Generations</i>",
                        long: "This version loops back to the first verse after the first chorus, and appears on <i>Sonic Generations</i>",
                        appearances: [ "Sonic Generations" ]
                    },
                    { 
                        fanName: "Opening ver. (SSS Mix)",
                        long: "This version of the song is the Super Sonic Songs mix, but edited down to the length of the Opening version. The song is also labelled as the Opening version on the album it appears on.",
                        appearances: [ "Sonic the Hedgehog 25th Anniversary Selection" ]
                    }
                ]
            },
            {
                title: "Instrumentals",
                credits: [
                    { t: "Composition & Arrangement", n: "Jun Senoue" },
                    { t: "Guitars & Programming", n: "Jun Senoue" },
                    { t: "Bass", n: "Takeshi Taneda" },
                    { t: "Drums", n: "Toru Kawamura" }
                ],
                versions: [
                    { 
                        fanName: "Super Shadow",
                        long: "This instrumental track combines I Am... All Of Me, All Hail Shadow, and Live & Learn for Shadow's Super transformation.",
                        appearances: [ "Shadow the Hedgehog Original Soundtrax", "Shadow the Hedgehog Official Soundtrack" ]
                    },
                ]
            },
            {
                credits: [
                    { t: "Composition", n: "Jun Senoue" },
                    { t: "Arrangement", n: "Yutaka Minobe" },
                    { t: "Piano", n: "Yutaka Minobe" }
                ],
                versions: [
                    { 
                        officialName: "I Am... The Story Is Over",
                        inGame: true,
                        long: "This sad, piano version of I Am... All Of Me is used as the pre-intro for Never Turn Back, but it has also been released on its own.",
                        appearances: [ "Shadow the Hedgehog Original Soundtrax" ]
                    },
                ]
            }
        ],
        versionsBg: 'SSSBackground.png'
    },
    oyh: {
        desc: {
            fan: `
            <p>"Open Your Heart" is the main track of "Sonic Adventure" and the first Crush 40 track ever created - written before they even had a name!</p>
            <p>Jun made at least 7 different demos of this track before settling on the final arrangement, multiple of which were made featuring different vocalists. The earliest available demo features co-composer <i>Kenichi Tokoi</i> on vocals, and the most famous of all is the demo featuring "Anthem" vocalist <i>Eizo Sakamoto</i>, which appears to have been recorded around Summer 1998.</p>
            <p>Eizo's demo would end up making it to prototypes of the game, and was also performed the track live during the "SONIC Adventure Production Presentation" on September 1998.</p>
            <p>Shortly after this demo, Jun contacted Johnny via Neal Schon of "Journey" to ask him to record for the track, as a result completing it around October 1998 and forming their relationship that would later give rise to "Crush 40".</p>
            `,
            other: [
                { 
                    heading: "Jun Senoue", 
                    subHeading: "(Written by <a href='https://twitter.com/crush40/status/454925447537496065' target='_blank'>Jun on Twitter</a>, describing the 2 Nights 2 Remember setlist)", 
                    text:`
                        <p>It's definitely an important song due to its roots, and loads of people still say they like it, and I'm happy that they do!</p>
                        <p>Although - Johnny made the audience sing far too much of it [at the 2 Nights 2 Remember show], so sing more of it properly, Johnny!</p>
                        <p>Also, this is a song I always feel I should play on my [ESP SONIC "GL"] guitar.</p>
                    ` }
            ]
        },
        lyrics: {
            src: [ 
                { n: "Driving Through Forever", id: "driving" }
            ],
            text: `
<p>Thunder, rain, and lightning<br />
Danger, water rising<br />
Clamour, sirens wailing<br />
It's such a bad sign</p>
<p>Shadows of dark creatures<br />
Steel clouds floating in the air<br />
People run for shelter<br />
What's gonna happen to us!?</p>
<p>All the steps we take, all the moves we make, all the pain at stake<br />
I see the chaos for everyone who are we what can we do<br />
You and I are the same in the way that we have our own styles that we won't change<br />
Yours is filled with evil and mine's not there is no way I can lose</p>
<p>Can't hold on much longer - But I will never let go<br />
I know it's a one-way track - Tell me now how long this'll last<br />
I'm not gonna think this way - Nor will I count on others<br />
Close my eyes and feel it burn - Now I see what I've gotta do</p>
<p>Open your heart, it's gonna be alright</p>
<p>Ancient city blazing<br />
Shadows keep attacking<br />
Little children crying<br />
Confusion, hopeless anger</p>
<p>I don't know what it can be but you drive me crazy<br />
All your cunning tricks make me sick, you won't have it your own way</p>
<p>Can't hold on much longer - But I will never let go<br />
I know it's a one-way track - Tell me now how long this'll last<br />
I'm not gonna think this way - Nor will I count on others<br />
Close my eyes and feel it burn - Now I see what I've gotta do</p>
<p>Open your heart ...and you'll see...</p>
<p>If it won't stop, there will be no future for us<br />
Its heart is tied down by all the hate, gotta set him free</p>
<p>I know it's a one-way track - Tell me now how long this'll last<br />
Close my eyes and feel it burn - Now I see what I've gotta do</p>
<p>Gotta open your heart, dude!</p>
<p>Can't hold on much longer - But I will never let go<br />
I know it's a one-way track - Tell me now how long this'll last<br />
I'm not gonna think this way - Nor will I count on others<br />
Close my eyes and feel it burn - Now I see what I've gotta do</p>
<p>Open your heart, it's gonna be alright</p>
            `
        },
        performances: [
            { id: "sap", d: "Featuring <i>Eizo Sakamoto</i> on vocals!" },
            { id: "tgs08" },
            { id: "sos10" },
            { id: "t11" },
            { id: "t12" },
            { id: "sb12" },
            { id: "sos12" },
            { id: "jgmf13" },
            { id: "sb13" },
            { id: "twoNights" },
            { id: "expoTNT" },
            { id: "joypolis15" },
            { id: "youmacon15" },
            { id: "sonic25th" },
            { id: "sos16" },
            { id: "tmg17" },
            { id: "mgc18" },
            { id: "puma18" },
            { id: "jgmf18" },
            { id: "tmg18" },
            { id: "mgc19" },
            { id: "tmg19" },
            { id: "sega60th" },
            { id: "symphony" }
        ]
    },
    kotw: {
        desc: {
            fan: `
            <p>The first Crush 40 song to be played in D Standard tuning, Knight of The Wind was written as the opening track for 2009's <i>Sonic and The Black Knight</i>. The song has been a fan favourite since, with over 5 million plays on Spotify, and it's easy to see why!</p> 
            <p>The song perfectly blends violins into Crush 40's signature rock sound, helping to slowly build the intensity for the perfect payoff in Jun's incredible solo - and a stunning final chorus that has the violins play the main riff in the background. 
            <p>The song was actually re-recorded shortly after the game's release, with a completely different rhythm guitar tone able to be heard on "Super Sonic Songs", released later that year.</p>`,
            other: [
                { 
                    heading: "Jun Senoue", 
                    subHeading: "(Written by <a href='https://twitter.com/crush40/status/454927576276807680' target='_blank'>Jun on Twitter</a>, describing the 2 Nights 2 Remember setlist)", 
                    text:`
                        <p>The Tokyo Game Show 2008 performance was the first time this song was unveiled, being the theme song of <i>Sonic and the Black Knight</i>, and that performance was my first with Johnny.</p>
                        <p>At that time, it had already been 10 years since Crush 40 was formed and everyone was very enthusiastic about this song, which has allowed me to continue to be to this day.</p>
                    ` }
            ]
        },
        lyrics: {
            src: [ 
                { n: "Driving Through Forever", id: "driving" }
            ],
            text: `
<p>Hey all, welcome to the greatest storm<br />
I know, you have waited much too long<br />
And I, I will be your shining star<br />
I'm here, here to conquer near and far...</p>
<p>Like the sun I run into the heat of day<br />
Like the night I fight until the fight is won<br />
In a rage I'll save each and every each and every each and everyone<br />
Till this war is won</p>
<p>And I live to rule by the sword<br />
Slashing thru the every inch of the power the power in you<br />
As I sit and as I stand by the table I command my kingdom<br />
I'm the knight of the wind...</p>
<p>Hey all, welcome to the end is near<br />
I know, I will bring you pain and fear</p>
<p>On the ground to the sky<br />
Faced with you and I<br />
In a flash I'm gone holding your crown high<br />
In a rage I'll save each and every each and every each and everyone<br />
Till this war is won</p>
<p>And I live to rule by the sword<br />
Slashing thru the every inch of the power the power in you<br />
As I sit and as I stand by the table I command my kingdom<br />
I'm the knight of the wind...</p>
<p>Our castle is a massive force<br />
A strong hold of power<br />
My armor stays unbreakable<br />
In battle every hour</p>
<p>Like the sun I run into the heat of day<br />
Like the night I fight until the fight is won<br />
In a rage I'll save each and every each and every each and everyone<br />
Till this war is won</p>
<p>And I live to rule by the sword<br />
Slashing thru the every inch of the power the power in you<br />
As I sit and as I stand by the table I command my kingdom<br />
I'm the knight of the wind...</p>
            `
        },
        performances: [
            { id: "tgs08" },
            { id: "sos10" },
            { id: "t11" },
            { id: "t12" },
            { id: "sos12" },
            { id: "jgmf13" },
            { id: "sb13" },
            { id: "twoNights" },
            { id: "expoTNT" },
            { id: "joypolis15" },
            { id: "youmacon15" },
            { id: "sonic25th" },
            { id: "sos16" },
            { id: "symphony" }
        ],
        versionsBg: 'Crush40_MotionBlur.png'
    }
};

let page;
let description;
let performancesList;
let shortGroupsList;
let longGroupsList;
let lyricsSource;
let lyricsText;

window.addEventListener('load', () => {
    page = document.querySelector(".page");
    description = document.querySelector("#descText");
    lyricsSource = document.querySelector("#lyricsSource");
    lyricsText = document.querySelector("#lyricsText");
    shortGroupsList = document.querySelector("#shortGroupsList");
    longGroupsList = document.querySelector("#longGroupsList");
    performancesList = document.querySelector("#performancesList");

    SetupTabs();

    let afterS = document.URL.split('?')[1].substring(2); // Trim off the "s="
    try {
        Populate(Crush40Songs[afterS.toLowerCase()], Songs[afterS.toLowerCase()]);
    }
    finally {
        window.parent.postMessage('!800px', '*');
    }
});

function SetupTabs()
{
    document.querySelector("#descriptionTab").addEventListener('click', () => 
    {
        page.classList.remove("lyricsOpen");
        page.classList.remove("performancesOpen");
    });

    document.querySelector("#lyricsTab").addEventListener('click', () =>
    {
        page.classList.add("lyricsOpen");
        page.classList.remove("performancesOpen");
    });

    document.querySelector("#performancesTab").addEventListener('click', () =>
    {
        page.classList.remove("lyricsOpen");
        page.classList.add("performancesOpen");
    });
}

function Populate(basicSong, song)
{
    document.querySelector("#txtTitle").innerText = basicSong.t;
    document.querySelector("#txtGame").innerText = basicSong.g;
    document.querySelector("#txtYear").innerText = basicSong.y;
    document.querySelector("#groups").style.backgroundImage = "url('../img/visuals/Background/Discography/" + song.versionsBg + "')";
    
    PopulateDescription(song);
    PopulateLyrics(song);
    PopulatePerformances(song);
    PopulateVersions(song);
}

function PopulateLyrics(song) 
{
    let srcPara = document.createElement("p");
    srcPara.insertAdjacentText('beforeEnd', "(Sourced from the ");

    for (let src in song.lyrics.src)
    {
        let itm = song.lyrics.src[src];

        if (itm.id)
        {
            let link = document.createElement("a");
            link.innerText = itm.n;
            link.addEventListener('click', () => window.parent.postMessage('@albumView?a=' + itm.id, '*'));
            srcPara.appendChild(link);
        }
        else
            srcPara.insertAdjacentText('beforeEnd', itm.n);

        if (src < song.lyrics.src.length - 1)
            srcPara.insertAdjacentText('beforeEnd', src == song.lyrics.src.length - 2 ? " and " : ", ");
    }

    srcPara.insertAdjacentText('beforeEnd', song.lyrics.src.length > 1 ? " booklets)" : " booklet)");
    lyricsSource.appendChild(srcPara);
    lyricsText.innerHTML = song.lyrics.text;
}

function PopulatePerformances(song)
{
    for (let performance of song.performances)
    {
        let gig = Crush40Performances[performance.id];

        let newPerf = document.createElement("li");
        newPerf.classList.add("performance");

        let main = document.createElement("div");
        main.classList.add("main");

        // Title
        let title = document.createElement("p");
        title.classList.add("title");
        title.innerText = gig.n;
        main.appendChild(title);

        // Year
        let year = document.createElement("p");
        year.classList.add("year");
        year.innerHTML = "<b>" + gig.y + "</b>";
        main.appendChild(year);

        newPerf.appendChild(main);

        // Description
        if (performance.d)
        {
            let desc = document.createElement("p");
            desc.classList.add("description");
            desc.innerHTML = performance.d;
            newPerf.appendChild(desc);
        }

        performancesList.appendChild(newPerf);
    }
}

function PopulateDescription(song)
{
    AppendDesc({ heading: "Fan Description", text: song.desc.fan });

    for (let i of song.desc.other)
        AppendDesc(i);
}

function AppendDesc(desc)
{
    description.appendChild(document.createElement("hr"));
    
    let heading = document.createElement("h3");
    heading.classList.add("heading");
    heading.innerText = desc.heading;
    description.appendChild(heading);

    if (desc.subHeading)
    {
        let subHeading = document.createElement("p");
        subHeading.classList.add("subHeading");
        subHeading.innerHTML = desc.subHeading;
        description.appendChild(subHeading);
    }

    let text = document.createElement("div");
    text.classList.add("text");
    text.innerHTML = desc.text;
    description.appendChild(text);
}

function PopulateVersions(song)
{
    for (let group of song.versionGroups)   
    {
        let grpElem = document.createElement("li");
        grpElem.classList.add("group");

        // Title
        if (group.title)
        {
            let grpTitle = document.createElement("h3");
            grpTitle.innerText = group.title;
            grpElem.appendChild(grpTitle);
        }
        else grpElem.classList.add("noTitle");

        // Versions
        let versElem = document.createElement("ul");
        versElem.classList.add("versionList");
        versElem.classList.add("generalList");
        for (let version of group.versions)
        {
            let verElem = document.createElement("li");

            let verTitleElem = document.createElement("p");
            verTitleElem.classList.add("title");
            verTitleElem.innerText = version.fanName ? version.fanName : version.officialName;
            verElem.appendChild(verTitleElem);

            if (version.short)
            {
                let verDescElem = document.createElement("p");
                verDescElem.innerHTML = version.short;
                verElem.appendChild(verDescElem);
            }

            versElem.appendChild(verElem);
        }
        grpElem.appendChild(versElem);

        // Credits
        let creditsElem = document.createElement("ul");
        creditsElem.classList.add("credits");
        for (let credit of group.credits)
        {
            let creditElem = document.createElement("p");
            creditElem.innerHTML = 
                "<b>" + credit.t + "</b><br/>" + credit.n;
            
            creditsElem.appendChild(creditElem);
        }

        grpElem.appendChild(creditsElem);

        // Add it to the correct list
        if (group.versions.length > 3)
            longGroupsList.appendChild(grpElem);
        else
            shortGroupsList.appendChild(grpElem);
    }
}